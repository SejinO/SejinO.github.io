<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>SejinOH</title>
	<style>
		@import url('https://fonts.googleapis.com/css?Saira+Semi+Condensed|family=Sunflower:300&display=swap');
	</style>
	<style>
		.nav>li>a:hover {
			color: dimgray;
		}
	</style>
	<link rel="stylesheet" href="css/main.css">
</head>

<body>
	<div class="home">
		<h1 class="namelogo"><a href="index.html">SejinOH</a></h1>
		<h3 class="gnb">Visual Programmer | Interaction Designer</h3>
		<a href="https://designersejinoh.github.io/Live/" class="liveBox">LIVE</a>
		<ol class="nav">
			<li><a href="1.html">about</a></li>
			<li><a href="2.html">works</a></li>
			<li><a href="3.html">contact</a></li>
		</ol>
	</div>
	<script src="https://cdn.jsdelivr.net/npm/p5@0.10.2/lib/p5.js"></script>
	<script type="text/javascript">
		let myFont;
		let code;
		let c;

		function preload() {
			myFont = loadFont('data/D2CodingBold-Ver1.3-20171129.ttf');
		}

		function setup() {
			createCanvas(windowWidth, windowHeight);
			code = 0xAC00;
			textAlign(CENTER);
			background(255);
			//DeviceOrientationEvent, DeviceMotionEvent
			if (typeof(DeviceOrientationEvent) !== 'undefined' && typeof(DeviceOrientationEvent.requestPermission) === 'function') {
				//ios 13 device
				DeviceOrientationEvent.requestPermission()
					.catch(() => {
						let button = createButton("버튼을 누른 후 센서를 허가해주십시오.");
						button.style("font-size", "12px");
						button.style("color", "white");
						button.style("background-color", "black");
						button.style("box-shadow", "5px 5px 5px");
						button.center();
						button.mousePressed(requsetAccess);
						throw error;
					})
					.then(() => {
						// on any subsequent visits
						permissionGranted = true;
					})
			} else {
				//non ios 13 device
				// text("non ios 13 device", 100, 100);
				permissionGranted = true;
			}

		}

		function requsetAccess() {
			DeviceOrientationEvent.requestPermission()
				.then(response => {
					if (response == 'granted') {
						permissionGranted = true;
					} else {
						permissionGranted = false;
					}
				})
				.catch(console.error);
			this.remove();
		}

		function windowResized() {
			resizeCanvas(windowWidth, windowHeight);
		}

		function draw() {
			if (!permissionGranted) {
				return;
			}
			noStroke();
			fill(0, 50);
			rect(0, 0, width, height);
			textFont(myFont);
			textSize(400);
			fill(0);
			text(char(code), width / 2, height / 2 + 50);
			textSize(15);
			fill(0, 200);
			text("한글을 모바일기기에 맞게.", width / 2, height / 5 * 4);
			text("흔들어주세요.", width / 2, height / 5 * 4 + 20);


		}

		function deviceShaken() {
			let r = floor(random(0xAC00, 0xD7A3));
			code = r;
		}
	</script>
</body></html>
